<div class="calib calib_<%= position %>"
     style="<% if (position === 'top') { %> margin-bottom: <%= spacing %>px; <% }
                else if (position === 'bottom') { %> margin-top: <%= spacing %>px; <% }
                else if (position === 'leftvert') { %> margin-right: <%= spacing %>px; <% }
                else if (position === 'rightvert') { %> margin-left: <%= spacing %>px; <% } %>">
    <% if (show) { %>
        <% if (position === 'top') { %>
            <!-- Render div 2 first for 'top' -->
            <div class="calibration_ticks calibration_ticks_<%= position %>">
                <div class="ticks ticks_<%= position %>" style="border-top: 2px solid #<%= color %>;">
                    <% var interval = Math.floor((end - start) / (ticks_parameter - 1)); %>

                    <!-- First tick (start value) -->
                    <div class="tick">
                        <div class="dash" style="background-color: #<%= color %>; height: <%= length %>px"></div>
                        <span class="label" style="color: #<%= color %>; font-size: <%= font_size %>px;"><%= start %></span>
                    </div>

                    <!-- Intermediate ticks -->
                    <% for (let i = 1; i < ticks_parameter - 1; i++) { %>
                        <div class="tick">
                            <div class="dash" style="background-color: #<%= color %>; height: <%= length %>px"></div>
                            <span class="label" style="color: #<%= color %>; font-size: <%= font_size %>px;">
                                <%= start + i * interval %>
                            </span>
                        </div>
                    <% } %>

                    <!-- Last tick (end value) -->
                    <div class="tick">
                        <div class="dash" style="background-color: #<%= color %>; height: <%= length %>px"></div>
                        <span class="label" style="color: #<%= color %>; font-size: <%= font_size %>px;"><%= end %></span>
                    </div>

                </div>
            </div>
            <div class="lutBg calib_bg"
                 style="height: <%= thickness %>px;
                        background-image: <%= lutBgPos === '0px 100px' ? 'linear-gradient(to left, #' + channel_color + ', black)' : 'url(' + lut_url + ')' %>;
                        <%= lutBgPos !== '0px 100px' ? 'background-position: ' + lutBgPos : '' %>;">
            </div>
        <% } else { %>
            <!-- Default order for non-'top' positions -->
            <div class="lutBg calib_bg"
                 style="height: <%= thickness %>px;
                        background-image: <%= lutBgPos === '0px 100px' ? 'linear-gradient(to left, #' + channel_color + ', black)' : 'url(' + lut_url + ')' %>;
                        <%= lutBgPos !== '0px 100px' ? 'background-position: ' + lutBgPos : '' %>;">
            </div>
            <div class="calibration_ticks calibration_ticks_<%= position %>">
                <div class="ticks ticks_<%= position %>" style="border-top: 2px solid #<%= color %>;">
                    <% var interval = Math.floor((end - start) / (ticks_parameter - 1)); %>

                    <!-- First tick (start value) -->
                    <div class="tick">
                        <div class="dash" style="background-color: #<%= color %>; height: <%= length %>px"></div>
                        <span class="label" style="color: #<%= color %>; font-size: <%= font_size %>px;"><%= start %></span>
                    </div>

                    <!-- Intermediate ticks -->
                    <% for (let i = 1; i < ticks_parameter - 1; i++) { %>
                        <div class="tick">
                            <div class="dash" style="background-color: #<%= color %>; height: <%= length %>px"></div>
                            <span class="label" style="color: #<%= color %>; font-size: <%= font_size %>px;">
                                <%= start + i * interval %>
                            </span>
                        </div>
                    <% } %>

                    <!-- Last tick (end value) -->
                    <div class="tick">
                        <div class="dash" style="background-color: #<%= color %>; height: <%= length %>px"></div>
                        <span class="label" style="color: #<%= color %>; font-size: <%= font_size %>px;"><%= end %></span>
                    </div>
                </div>
            </div>
        <% } %>
    <% } %>
</div>
