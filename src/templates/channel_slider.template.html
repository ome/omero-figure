
 <div class="clearfix channel_slider_<%=idx%>" style="position: relative; padding-bottom: 4px">


    <div class="btn-group">
            <button type="button"
            title="<%= _.escape(label) %>"
                    class="btn btn-default channel-btn lutBg <% if (isDark) { print('font-white') } %>"
                    data-index="<%= idx %>"
                    style="background-color:#<%= color %>; <%= lutBgCss %>">

                    <%= _.escape(label) %>
                    <div class="<% if(active) { %>ch-btn-down<% } else if (typeof active == 'boolean') { %>ch-btn-up<% } else { %>ch-btn-flat<% }%>">&nbsp</div>
            </button>
            <button type="button" class="btn btn-default dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="visually-hidden">Toggle Dropdown</span>
              </button>
            <ul class="dropdown-menu colorpicker" data-index="<%= idx %>">
                <li>
                    <a data-color="reverse" class="reverseIntensity dropdown-item" href="#">
                        <% if(reverse) { %> <i class="bi-check-lg"></i> <% } else { %> &nbsp &nbsp <% } %>
                        Invert
                    </a>
                </li>
                <li class="dropdown-divider"></li>
                <li><a data-color="0000FF" href="#" class="dropdown-item">
                    <span style="background-color:#00f">&nbsp &nbsp &nbsp</span>&nbsp Blue
                </a></li>
                <li><a data-color="00FF00" href="#" class="dropdown-item">
                    <span style="background-color:#0f0">&nbsp &nbsp &nbsp</span>&nbsp Green
                </a></li>
                <li><a data-color="FF0000" href="#" class="dropdown-item">
                    <span style="background-color:#f00">&nbsp &nbsp &nbsp</span>&nbsp Red
                </a></li>
                <li><a data-color="FFFF00" href="#" class="dropdown-item">
                    <span style="background-color:#ff0">&nbsp &nbsp &nbsp</span>&nbsp Yellow
                </a></li>
                <li><a data-color="FFFFFF" href="#" class="dropdown-item">
                    <span style="background-color:#fff">&nbsp &nbsp &nbsp</span>&nbsp White
                </a></li>
                <li><a data-color="FF00FF" href="#" class="dropdown-item">
                    <span style="background-color:#f0f">&nbsp &nbsp &nbsp</span>&nbsp Magenta
                </a></li>
                <li><a data-color="00FFFF" href="#" class="dropdown-item">
                    <span style="background-color:#0ff">&nbsp &nbsp &nbsp</span>&nbsp Cyan
                </a></li>
                <li class="dropdown-divider"></li>
                <li><a data-color="lutpicker" href="#" class="dropdown-item">
                    <span class="hueBg">&nbsp &nbsp &nbsp</span>&nbsp Lookup Tables
                </a></li>
                <li><a data-color="colorpicker" data-oldcolor="<%= color %>" href="#" class="dropdown-item">
                    <span class="colorpickerOption">&nbsp &nbsp &nbsp</span>&nbsp More Colors...
                </a></li>
            </ul>
    </div>

    <span class="ch_start">
        <input type="number" data-window="start"
        <% if (startsNotEqual) { %>
            title="Average: <%= startAvg %> (selected images have different start values)"
            style="color: #ccc;"
        <% } %>
        data-idx="<%=idx%>" value="<%= startAvg %>" max="<%= endAvg %>">
    </span>
    <div class="ch_slider">
        <!-- We use 2 sliders to simulate a 2-handled slider -->
        <!-- We use a ::before element for background so we can 'flip' it scaleX(-1)
            without flipping the slider itself (can't just flip background-image)
         -->
        <input class="ch_start_slider" data-idx="<%=idx%>"
            data-slidemax="<%= endAvg %>"
            min="<%= min %>" max="<%= max %>" step="<%= step %>"
            type="range" value="<%= startAvg %>"
            style="background-color:#<%=color%>;
                <%= lutBgCss %>
                --scaleX: <%= reverse ? -1 : 1 %>"/>
        <!-- data-slidemin and data-slidemax used to prevent sliding start > end etc -->
        <input class="ch_end_slider" data-idx="<%=idx%>" data-slidemin="<%= startAvg %>"
            min="<%= min %>" max="<%= max %>" step="<%= step %>"
            type="range" value="<%= endAvg %>" style="background-color: rbga(1,1,1,0)"/>
    </div>
    <span class="ch_end">
        <input type="number" data-window="end"
        <% if (endsNotEqual) { %>
            title="Average: <%= endAvg %> (selected images have different end values)"
            style="color: #ccc;"
        <% } %>
        data-idx="<%=idx%>" value="<%= endAvg %>" min="<%= startAvg %>">
    </span>
</div>
